<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contacto - Beauty Salon</title>
  <link rel="stylesheet" href="src/normalize.css">
  <link href="https://fonts.googleapis.com/css2?family=Krub:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="src/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- JS para validación del formulario -->
  <script src="src/validation.js" defer></script>
  <!-- JS para login -->
  <script src="src/login.js" defer></script>
</head>

<body>

  <!-- Header -->
  <header class="header contenido">
    <h1 class="logo">Beauty Salon Gallery</h1>
    <nav class="navegacion-principal contenedor">
      <a href="index.html">Inicio</a>
      <a href="index.html#galeria">Galería</a>
      <a href="#" id="btn-clientes">Clientes</a>
      <button id="btn-logout" class="btn_logout">Cerrar Sesión</button>
    </nav>

    <!-- Modal de Login -->
    <div id="login-modal" class="modal">
      <div class="modal-content">
        <span class="close-btn" id="close-login">&times;</span>
        <h2>Login Admin</h2>
        <div class="error-msg" id="login-error"></div>
        <input type="text" id="modal-username" placeholder="Usuario">
        <input type="password" id="modal-password" placeholder="Contraseña">
        <button id="modal-login-btn">Ingresar</button>
      </div>
    </div>
  </header>

  <main>
    <section class="contacto contenedor">
      <h2>Contacto</h2>
      <p>Si tienes dudas o quieres agendar una cita, completa el formulario:</p>

      <!-- Formulario principal -->
      <form id="form-contacto" class="formulario-contacto">
        <div class="form-group">
          <label for="nombre">Nombre:</label>
          <input type="text" id="nombre" name="nombre" placeholder="Tu nombre" required>
        </div>

        <div class="form-group">
          <label for="email">Correo electrónico:</label>
          <input type="email" id="email" name="email" placeholder="tuemail@ejemplo.com" required>
        </div>

        <div class="form-group">
          <label for="telefono">Teléfono:</label>
          <input type="text" id="telefono" name="telefono" placeholder="Tu teléfono">
        </div>

        <div class="form-group">
          <label for="mensaje">Mensaje:</label>
          <textarea id="mensaje" name="mensaje" rows="5" placeholder="Escribe tu mensaje..." required></textarea>
        </div>

        <div class="botones-contacto">
          <button type="button" class="btn-whatsapp" onclick="enviarWhatsApp()">Enviar por WhatsApp</button>
          <button type="button" class="btn-reserva" onclick="mostrarReserva()">Reservar Cita</button>
        </div>
      </form>

      <!-- Formulario de reserva -->
      <form id="form-reserva" class="formulario-contacto" style="display:none; margin-top:1rem;" method="POST" action="Backend/guardar_cliente.php">
        <input type="hidden" name="nombre" id="res-nombre">
        <input type="hidden" name="email" id="res-email">
        <input type="hidden" name="telefono" id="res-telefono">
        <input type="hidden" name="mensaje" id="res-mensaje">

        <div class="form-group">
          <label for="servicio">Servicio:</label>
          <select id="servicio" name="servicio" required>
            <option value="">Selecciona un servicio</option>
            <option value="Corte de cabello">Corte de Cabello</option>
            <option value="Tinte">Tinte</option>
            <option value="Peinado">Peinado</option>
            <option value="Manicura">Manicura</option>
            <option value="Pedicura">Pedicura</option>
          </select>
        </div>

        <div class="form-group">
          <label for="fecha">Fecha:</label>
          <input type="date" id="fecha" name="fecha" required>
        </div>

        <div class="form-group">
          <label for="hora">Horario:</label>
          <input type="time" id="hora" name="hora" required>
        </div>

        <button type="submit" class="btn-enviar">Confirmar Reserva</button>
      </form>

      <p id="mensaje-confirmacion" style="display:none; color:green; margin-top:1rem;">
        ¡Gracias! Tu mensaje ha sido enviado correctamente.
      </p>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-contenido">
      <p>Todos los derechos reservados &copy; 2025</p>
      <div class="redes-sociales">
        <a href="https://www.facebook.com" target="_blank" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
        <a href="https://www.instagram.com" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
        <a href="https://www.tiktok.com" target="_blank" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
      </div>
    </div>
  </footer>

  <script>
    // Solo las funciones de contacto aquí (NO login)
    function enviarWhatsApp() {
      const nombre = document.getElementById('nombre').value;
      const email = document.getElementById('email').value;
      const mensaje = document.getElementById('mensaje').value;

      if (!nombre || !email) {
        alert('Por favor completa nombre y email');
        return;
      }

      const texto = `Nombre: ${nombre}%0AEmail: ${email}%0AMensaje: ${mensaje}`;
      const url = `https://api.whatsapp.com/send?phone=+5211234567890&text=${texto}`;
      window.open(url, '_blank');
    }

    function mostrarReserva() {
      const nombre = document.getElementById('nombre').value;
      const email = document.getElementById('email').value;
      const telefono = document.getElementById('telefono').value;

      if (!nombre || !email || !telefono) {
        alert('Por favor completa nombre, email y teléfono antes de reservar');
        return;
      }

      document.getElementById('res-nombre').value = nombre;
      document.getElementById('res-email').value = email;
      document.getElementById('res-telefono').value = telefono;
      document.getElementById('res-mensaje').value = document.getElementById('mensaje').value;

      document.getElementById('form-reserva').style.display = 'block';
      window.scrollTo({ top: document.getElementById('form-reserva').offsetTop - 20, behavior: 'smooth' });
    }
  </script>
</body>
</html>
